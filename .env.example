# ================================================================================
# CMS - Environment Variables Template
# ================================================================================
# Copy this file to .env and fill in the actual values
# NEVER commit .env to version control - it contains sensitive credentials
# ================================================================================

# ================================================================================
# Database Configuration
# ================================================================================

# WireGuard VPN Configuration
# The database server is accessible via WireGuard VPN at 10.0.0.1
WIREGUARD_ENABLED=true

# Development Database Configuration
DB_DEV_HOST=10.0.0.1
DB_DEV_PORT=5432
DB_DEV_NAME=cms
DB_DEV_USER=cmssystem
DB_DEV_PASSWORD=your_development_password_here

# Production Database Configuration
DB_PROD_HOST=10.0.0.1
DB_PROD_PORT=5432
DB_PROD_NAME=cms
DB_PROD_USER=cmssystem
DB_PROD_PASSWORD=your_production_password_here

# Admin Database User (for backups and restore operations)
DB_ADMIN_USER=postgres
DB_ADMIN_PASSWORD=your_admin_password_here

# ================================================================================
# Connection String Templates
# ================================================================================
# These will be constructed from the variables above
# Format: Host={HOST};Port={PORT};Database={DATABASE};Username={USER};Password={PASSWORD};SSL Mode={SSLMODE}

# Development Connection String (SSL Mode: prefer)
# ConnectionString__Development=Host=10.0.0.1;Port=5432;Database=cms;Username=cmssystem;Password=${DB_DEV_PASSWORD};SSL Mode=prefer;Pooling=true;Minimum Pool Size=5;Maximum Pool Size=100;

# Production Connection String (SSL Mode: require)
# ConnectionString__Production=Host=10.0.0.1;Port=5432;Database=cms;Username=cmssystem;Password=${DB_PROD_PASSWORD};SSL Mode=require;Pooling=true;Minimum Pool Size=10;Maximum Pool Size=200;

# ================================================================================
# Database Connection Options
# ================================================================================

# Connection Pooling
DB_POOL_MIN_SIZE=5
DB_POOL_MAX_SIZE=100
DB_POOL_PROD_MIN_SIZE=10
DB_POOL_PROD_MAX_SIZE=200

# Retry Policy
DB_RETRY_COUNT=3
DB_RETRY_DELAY=5
DB_COMMAND_TIMEOUT=60

# SSL Configuration for Production
DB_PROD_SSL_MODE=require
DB_DEV_SSL_MODE=prefer

# ================================================================================
# Backup Configuration
# ================================================================================

# Backup Directory (default: /var/backups/postgresql/)
BACKUP_DIR=/var/backups/postgresql

# Backup Schedule (cron format: minute hour day month weekday)
BACKUP_SCHEDULE=0 2 * * *

# Backup Retention (days)
BACKUP_RETENTION_DAYS=7

# ================================================================================
# Application Configuration
# ================================================================================

# Application Environment
ASPNETCORE_ENVIRONMENT=Development

# Company Schema (used for multi-tenant configuration)
COMPANY_SCHEMA=admin

# ================================================================================
# Azure AD Configuration (if needed)
# ================================================================================

# Azure AD Instance
# AZURE_AD_INSTANCE=https://login.microsoftonline.com/

# Azure AD Tenant ID
# AZURE_AD_TENANT_ID=your_tenant_id_here

# Azure AD Client ID (API)
# AZURE_AD_CLIENT_ID=your_client_id_here

# Azure AD Audience
# AZURE_AD_AUDIENCE=api://your_api_id_here

# ================================================================================
# Security Notes
# ================================================================================
# 1. Use strong, unique passwords for all database users
# 2. The cmssystem user should have limited permissions (no superuser)
# 3. Keep the admin (postgres) password secure and only use for maintenance
# 4. Production environment MUST use SSL/TLS connections
# 5. Change default passwords immediately after setup
# 6. Rotate credentials regularly
# 7. Never commit the .env file to version control
# ================================================================================
